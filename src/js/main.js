$(function(){
	//一堆變數
	var stage;
	var isDrawing;
	var drawingCanvas;
	var oldPt;
	var oldMidPt;
	var displayCanvas;
	var image;
	var bitmap;
	var maskFilter;
	var cursor;
	var text;
	var blur;
	/*------------------------------------------------------------------------------*/
	//筆刷大小
	var fontSize;

	//dom元素
	var DF = $(".DF").get(0)
	var changeBg1 = $(".bg1").get(0)
	var changeBg2 = $(".bg2").get(0)
	var changeBg3 = $(".bg3").get(0)
	var changeBg4 = $(".bg4").get(0)
	var changeBg5 = $(".bg5").get(0)
	
	//預設的圖片
	var bgcode;

	//單入淡出的效果
	TweenMax.to("h1",0.5, {autoAlpha:0});

	/*------------------------------------------------------------------------------*/

	//初始化
	examples.showDistractor();
	image = new Image();
	image.onload = handleComplete;
	image.src = "./images/C.jpg";
	stage = new createjs.Stage("Canvas");
	text = new createjs.Text("Loading...", "20px Arial", "#FFF");
	text.set({x: stage.canvas.width / 2, y: stage.canvas.height - 40});
	text.textAlign = "center";
	
	/*------------------------------------------------------------------------------*/

	//清空塗鴉版
	$(".DF").on("click",function(){
		drawingCanvas.graphics.clear();
		drawingCanvas.updateCache();
		updateCacheImage(true);
	})

	/*------------------------------------------------------------------------------*/
	function handleComplete() {
		examples.hideDistractor();
		createjs.Touch.enable(stage);//開啟觸摸
		stage.enableMouseOver(50);//啟用MouseOver

		//監聽畫筆
		stage.addEventListener("stagemousedown", handleMouseDown);
		stage.addEventListener("stagemouseup", handleMouseUp);
		stage.addEventListener("stagemousemove", handleMouseMove);
		
		//監聽所有預設圖示的按鈕
		changeBg1.addEventListener("mousedown", PresetDown);
		changeBg2.addEventListener("mousedown", PresetDown);
		changeBg3.addEventListener("mousedown", PresetDown);
		changeBg4.addEventListener("mousedown", PresetDown);
		changeBg5.addEventListener("mousedown", PresetDown);
		changeBg1.addEventListener("mouseup", PresetUP);
		changeBg2.addEventListener("mouseup", PresetUP);
		changeBg3.addEventListener("mouseup", PresetUP);
		changeBg4.addEventListener("mouseup", PresetUP);
		changeBg5.addEventListener("mouseup", PresetUP);

		//設置遮色片
		drawingCanvas = new createjs.Shape();
		drawingCanvas.cache(0,0,435,773);
		bitmap = new createjs.Bitmap(image);	
		blur = new createjs.Bitmap(image);
		blur.filters = [new createjs.BlurFilter(24, 24, 2), new createjs.ColorMatrixFilter(new createjs.ColorMatrix(90))];
		blur.cache(0, 0, 435, 773);
		text.text = "...";

		stage.addChild(blur, text, bitmap);
		updateCacheImage(false,"Preset");
	}
	function handleMouseDown(event) {

		fontSize  = getRandom(10, 30)
		oldPt = new createjs.Point(stage.mouseX-image.width/2, stage.mouseY-image.height/2);
		oldMidPt = oldPt;
		isDrawing = true;
		
	}
	function handleMouseMove(event) {
		if (!isDrawing) {
			stage.update();
			return;
		}

		//繪製畫筆遮色片
		var midPoint = new createjs.Point(oldPt.x + stage.mouseX-image.width/2 >> 1, oldPt.y + stage.mouseY-image.height/2 >> 1);
		drawingCanvas.graphics.setStrokeStyle(fontSize, "round", "round")
				.beginStroke("rgba(0,0,0,1)")
				.moveTo(midPoint.x, midPoint.y)
				.curveTo(oldPt.x, oldPt.y, oldMidPt.x, oldMidPt.y);

		oldPt.x = stage.mouseX;
		oldPt.y = stage.mouseY;
		oldMidPt.x = midPoint.x;
		oldMidPt.y = midPoint.y;
		updateCacheImage(true);
	}
	function handleMouseUp(event) {
		updateCacheImage(true);
		isDrawing = false;
	}

	//預設5種樣式
	function PresetDown(e){
		switch(e.target.className){
			case "bg1": 
				bgcode = "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";
				break;
			case "bg2": 
				bgcode = "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";
				break;
			case "bg3": 
				bgcode = "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";
				break;
			case "bg4": 
				bgcode = "AgNSrQl+g0kJkhIBNAMIBJALQBjAMBrgRQBcgPBrgmICWg1QBUgaBHgRQDCgvCuA6QBLAaBKAsQBBAnBEA5QAEADAEAHQADAFABALQiTgviwAGQiCAEjBAmIA3AKQAgAFAWAGQCAAgBPAZQAcAJAbAXQAZAVAQAbQjrB4j/AAQhMAAhLgKgAN3LfQgngdg4ghQhZg2hmgRQhfgPhuARQhSAMhqAiIi3A9QiVAyh9ADQiuAFiCgFQgmgCg1gJIhcgQQgFgBgGgFQgGgEgDgGQhliigei7IgFgiQCkBkCnAYQCsAZCwg4IAAkjIgxAdQg4AigvAUQg5AZg3AJQiVAXiQg/QgZgLgfgTIg3giQgFgEgEgGQgEgHAAgFQAWi3BSidIAGgHQCKBiC4giQB/gWBghTQipANhMgGQiIgJhng9QC3juD9hqQDxhlE3AQIgkgfQgTgQgNgJQhLg2hdgjQhPgghlgUQjDgojgAKQivAIiYAhQinAjiSBDQgHADgMgEIAIgMIAJgKQA6g4BJgwQA/gqBSgqQEUiMFcgSQE4gQETBTQCwA2CNBbQBTA2A8AvQBKA5A4A8QC1C/BeD2QAmBlAXBxQAUBmAJB1QAEA6gZAnQgVAhgyAbQggARgdgBQgfgCgbgWQgfgbhShLQgDgDgCgFIgFgJIgIAFIgqEkQBcAqBLAGQBZAGBQgsQAEArhEB3QhCB4hPBcQglgmgxgkgAh6GWQAjgFAHgHQAHgHgGgaQgEgSgQACIgOADQgIABgGgDgAgqAeQgEAHAGAdIAIAqIAuEEQARgBAFgFQAGgGgDgQQgHglgIg4IgNheIgUiRQgeAOgDAIgAMFAUQgKAFgDAPQgPBNghCZQgJAtAGAJQAGAJAsAJIAIgBIAqkmQACgNgBgGQgDgKgMgBIgIAAQgJAAgFADgAEFh+IANA4QAEANgEAHQgEAHgPACIhXAQIhaARIA5FZIBggUIgFhZIg/AIQgNACgFgFQgGgFgBgOQgBg2gDhQQgBgNAFgFQAGgFAMABIBOAKIAmAEQANABAEAEQAEAFACANIABAmIAJCrQAQAFAFgHQACgEAAgOIgDlmIgBgiIgDgjgAI5FFIAlAKIA3jrIhDgLgAGrEvIAuAEIAbjoIhJgMgAiPB9IAGBdQAIgDARAAQAMgCAAgPQgBgPgDgXIgGgogAJcALIBLAMIAWhbQABgEgCgGQgBgGgDgBQgQgLg9gngAGmgcQABAEAEAEQAFAFADABQANADA+AJIARiaIhpAAIAACAg";
				break;
			case "bg5": 
				bgcode = "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";
				break;
		}
		drawingCanvas.graphics.setStrokeStyle(1).f("rgba(0,0,0,1)").p(bgcode)

		updateCacheImage(true);
	}
	function PresetUP(e){
		updateCacheImage(true);
	}

	//滑動時及時更新
	function updateCacheImage(update,Strings) {
		if (update) {
			drawingCanvas.updateCache('source-over');
			drawingCanvas.graphics.clear();
		} else {
			if(Strings=="Preset"){
				drawingCanvas.cache(-image.width/2, -image.height/2, image.width, image.height);
			}else{
				drawingCanvas.cache(0, 0, image.width, image.height);
			}
		}

		maskFilter = new createjs.AlphaMaskFilter(drawingCanvas.cacheCanvas);
		bitmap.filters = [maskFilter];
		if (update) {
			bitmap.updateCache(0, 0, image.width, image.height);
		} else {
			bitmap.cache(0, 0, image.width, image.height);
		}
		stage.update();
	}

	//取得 minNum(最小值) ~ maxNum(最大值) 之間的亂數
	function getRandom(minNum, maxNum) {	
		return Math.floor( Math.random() * (maxNum - minNum + 1) ) + minNum;
	}

})